if(submode[mode]==2){
	BattleMapDrag = true;
	BattleDragPos[0] = p.x;
	BattleDragPos[1] = p.y;
}